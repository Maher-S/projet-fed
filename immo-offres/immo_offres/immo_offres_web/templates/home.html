{% extends 'base.html' %}
  {% load static %}
  
  {% block content %}

  <section id="hover-img">
    <div class="container py-5">
      <div class="row">

        {% for article in articles %}
        <div class="col-xs-12 col-md-6 col-lg-4 mb-4 mb-lg-0">
          <div class="card overflow-hidden">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS0ucLwpzy0WPiV_Mr4oMiVwx8bPjf3s4NjVw&usqp=CAU" class="img-fluid" alt="Loading">
            <div class="card-body">
              <h5 class="card-title mt-3"><a href="#" class="text-decoration-none text-dark">{{ article.title }}</a></h5><br>
              <span class="price">Prix: {{ article.price }} TND</span><br>
              <span class="date">Date Offres: {{ article.timestamped }}</span><br>
              <span class="location">Localisation: {{ article.location }}</span><br>
              <span class="category">Category: {{ article.category }}</span><br>
              <span class="sub-category">Sous-Category: {{ article.nature }}</span>
            </div>
            <ul class="list-group list-group-flush">
              <li class="list-group-item text-muted"><i class="fa fa-user mr-1" aria-hidden="true"></i>
                Source Annonce: {{ article.website }}
                <span class="Date">Date de Scraping: {{ article.date_scraped }}</span><br>
                <span class="float-right"><i class="fa fa-calendar mr-1" aria-hidden="true"></i><a href="{{ article.link }}" class="button">Follow Link</a>
                </span>
              </li>
            </ul>
          </div>
        </div>
        {% endfor %}
        
      </div>
    </div>
  </section>

<!-- Pagination links -->
<div class="pagination">
  <span class="step-links">
    {% if articles.has_previous %}
      <a href="?page=1">&laquo; first</a>
      <a href="?page={{ articles.previous_page_number }}">previous</a>
    {% endif %}

    {% if articles.number > 3 %}
      <a href="?page=1">1</a>
      <span class="dot-dot-dot">...</span>
    {% endif %}

    {% for i in articles.paginator.page_range %}
    {% if i >= articles.number|add:"-2" and i <= articles.number|add:"2" %}
    {% if i == articles.number %}
          <span class="current-page">{{ i }}</span>
        {% else %}
          <a href="?page={{ i }}">{{ i }}</a>
        {% endif %}
      {% endif %}
    {% endfor %}

    {% if articles.number < articles.paginator.num_pages|add:"-2" %}
    <span class="dot-dot-dot">...</span>
      <a href="?page={{ articles.paginator.num_pages }}">{{ articles.paginator.num_pages }}</a>
    {% endif %}

    {% if articles.has_next %}
      <a href="?page={{ articles.next_page_number }}">next</a>
      <a href="?page={{ articles.paginator.num_pages }}">last &raquo;</a>
    {% endif %}
  </span>
</div>
</main>
{% endblock %}



